<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Happy Birthday!</title>
  <style>
    body {
      background: #1e3f4b;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      padding: 20px;
      color: #000000;
      animation: fadeIn 1s ease;
        }

        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
    .container {
     background-color: rgba(255, 255, 255, 0.368);
      padding: 20px;
      border-radius: 20px ;

      max-width: 90%;
      height: auto;
      margin: auto;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);

    }
    h1 {
      font-family: WOFF2;
      color: #ffffff;
      font-size: 2em;
      animation: transition ease-in-out infinite alternate;
      animation: glowing 1s ease-in-out infinite alternate;

    }
    @keyframes glowing {
      from {
        text-shadow: 0 0 5px #ffffff, 0 0 10px #efefef;
      }
      to {
        text-shadow: 0 0 20px #f3f3f3, 0 0 30px #ffd11a;
      }
    }
    .cake-container {
      display: none;
      padding-top: 24px;
      position: relative;

    }
    .cake {
      width: 200px;

    }
    .candle {
      width: 10px;
      height: 30px;
      background: #fff;
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      border-radius: 2px;
    }
    .flame {
      width: 12px;
      height: 20px;
      background: radial-gradient(circle, orange, red);
      border-radius: 50%;
      position: absolute;
      top: -3px;
      left: 50%;
      transform: translateX(-50%);
      animation: flicker 0.3s infinite alternate;
      display: none;
    }
    @keyframes flicker {
      from { transform: translateX(-50%) scaleY(1); }
      to { transform: translateX(-50%) scaleY(1.2); }
    }
    .age-text {
      font-size: 1.4em;
      font-weight: bold;
      color: rgb(255, 236, 187);
      font-family: 'Georgia', serif;
      display: none;
      animation: glow 1s ease-in-out infinite alternate;
    }
    @keyframes glow {
      from {
        text-shadow: 0 0 5px #ffd700, 0 0 10px #ffd700;
      }
      to {
        text-shadow: 0 0 20px #ff8c00, 0 0 30px #ff8400;
      }
    }
    .letter-box {
     display: none;
    position: fixed;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    background: #32d8ebd5;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 0 15px rgba(0,0,0,0.6);
    max-width: 400px;
    width: 80%;
    z-index: 9999;
    }
    .balloon {
      position: absolute;
      width: 40px;
      height: 60px;
      background-color: #e91e63;
      border-radius: 60%;
      animation: floatUp 6s linear infinite;
    }
    .balloon::after {
      content: "";
      position: absolute;
      left: 50%;
      bottom: -20px;
      width: 2px;
      height: 30px;
      background: #444;
    }
    @keyframes floatUp {
      0% { bottom: -100px; opacity: 0; }
      50% { opacity: 1; }
      100% { bottom: 100vh; opacity: 0; }
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-top: 20px;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }
    .grid button {
      background: none;
      border: none;
      cursor: pointer;
      text-align: center;
      font-size: 0.9em;
      font-style: bold;
      color: #000000;
    }
    .grid img {
      width: 45px;
      height: 45px;
    }
    .slideshow img {
      width: 190px;
      border-radius: 15px;
      margin-bottom: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);

    }
    .secretMsgPopup{
    display: none;
    position: fixed;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    background: #fff;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 0 15px rgba(0,0,0,0.6);
    max-width: 400px;
    width: 90%;
    z-index: 9999;
    }

   .responseMsg{
         color: green; margin-top: 10px;

   }
   img {
  -webkit-user-select: none;
  user-select: none;
  pointer-events: none; /* Optional: disables all interaction */
    }

  </style>
</head>

<body>
  <div class="container">
    <div class="slideshow">
      <img id="slideshowImg" src="BoyImages1.jpg" alt="Birthday BROS">

    </div>
    <h1>Happy Birthday, Bhaiyo </h1>


    <div class="cake-container" id="cakeArea">
      <img src="https://i.ibb.co/F4t63d7Y/image.png" class="cake">
      <div class="candle"></div>
      <div class="flame" id="flame"></div>
    </div>


    <div class="age-text" id="ageText"></div>


    <div class="grid">
     
      <button onclick="flyBalloons()">
        <img src="https://i.ibb.co/hJh27fY0/image-removebg-preview.png" alt="image-removebg-preview" alt="Balloons"/><br>Fly Balloons
      </button>
       <button onclick="showCake()">
        <img src="https://i.ibb.co/1tYddmM2/image.png" alt="Cake"/><br>Show Cake
      </button>
      <button onclick="lightCandle()">
        <img src="https://i.ibb.co/xKytfm7Y/image.png" alt="Fire"/><br>Fire Candle
      </button>
      <button onclick="celebrateAll()">
        <img src="https://cdn-icons-png.freepik.com/256/9074/9074446.png?ga=GA1.1.806545514.1745143109" alt="Celebrate"/><br>Celebrate
      </button>
      <button onclick="showLetter()">
        <img src="https://cdn-icons-png.freepik.com/256/18465/18465764.png?ga=GA1.1.806545514.1745143109&semt=ais_hybrid" alt="Letter"/><br>Read Letter
      </button>
         <button onclick="toggleSecretPopup()">
        <img src="https://cdn-icons-png.freepik.com/256/12237/12237467.png?ga=GA1.1.806545514.1745143109&semt=ais_hybrid" alt="Secret"/><br>Secret Message
</button>
    </div>
    <div class="letter-box" id="letterBox">
      <!-- letter box close button -->
<button onclick="closeLetterBox()" style="padding: 10px 15px; border-radius: 10px; margin-left: 10px;background-color: #cb0606;color:#f3f3f3;font-weight:bold">Close</button>

    </div>
<!-- Hidden Popup Container -->
<!-- Secret Message Popup -->

<div class="secretMsgPopup" id="secretMsgPopup">
  <h3>Send a Secret Message</h3>
  <textarea id="secretMessage" rows="5" style="width: 100%;" placeholder="Write your secret message here..."</textarea></textarea></textarea><br><br>
  <button onclick="sendMessage()" style="padding: 10px 15px; border-radius: 10px; font-weight: bold; background-color: #0ede1f;">Send</button>
  <button onclick="closePopup()" style="padding: 10px 15px; border-radius: 10px; margin-left: 10px;background-color: #cb0606;color:#f3f3f3;font-style:bold">Close</button>
  <p id="responseMsg"></p>
</div>


</div>
    <audio id="birthdayAudio" src="https://media.vocaroo.com/mp3/18hFZBcTRMje" type="audio/mpeg"></audio>
     <audio id="readletter" src="your_READLETTER.mp3" type="audio/mpeg"></audio> 
    <audio id="clapSound" src="https://www.soundjay.com/human/applause-01.mp3"></audio>
  </div>





  <script>
            // Slideshow image logic
        const boyImages = [
        "photo2.jpg",
        "photo3.jpg"
        //add more 
        ];

        let slideIndex = 0;
        setInterval(() => {
        slideIndex = (slideIndex + 1) % boyImages.length;
        document.getElementById("slideshowImg").src = boyImages[slideIndex];
        }, 3000); // 3 seconds delay between images


    function showCake() {
      document.getElementById("cakeArea").style.display = "block";
    }

    function cutCake() {
      document.getElementById("cakeArea").style.display = "block";
      document.getElementById("ageText").style.display = "block";
      animateAge("From 20 --> 21");
    }

    function lightCandle() {
      document.getElementById("flame").style.display = "block";
      document.getElementById("birthdayAudio").play();

    }

    function celebrateAll() {
      cutCake();
      lightCandle();
      setTimeout(() => {
        document.getElementById("flame").style.display = "none";
        document.getElementById("clapSound").play();

        flyBalloons();
      }, 2000);
    }

    function animateAge(text) {
      let i = 0;
      const ageText = document.getElementById("ageText");
      ageText.innerHTML = "";
      const interval = setInterval(() => {
        if (i < text.length) {
          ageText.innerHTML += text[i];
          i++;
        } else {
          clearInterval(interval);
        }
      }, 80);

    }

    function flyBalloons() {
      for (let i = 0; i < 15; i++) {
        let balloon = document.createElement("div");
        balloon.className = "balloon";
        balloon.style.left = Math.random() * 100 + "vw";
        balloon.style.backgroundColor = ["#d32f2f", "#303f9f", "#388e3c", "#fbc02d"][Math.floor(Math.random() * 4)];
        balloon.style.animationDuration = (Math.random() * 5 + 4) + "s";
        document.body.appendChild(balloon);
        setTimeout(() => balloon.remove(), 8000);
      }
    }

    function showLetter() {
      const text = "my letter to your friend";
      let i = 0;
      const box = document.getElementById("letterBox");
      box.style.display = "block";
      box.innerHTML = '<button onclick="closeLetterBox()" style="padding: 10px 15px; border-radius: 10px; margin-left: 10px;background-color: #cb0606;color:#f3f3f3;font-weight:bold">Close</button><br><br>';

      const interval = setInterval(() => {
        if (i < text.length) {
          box.innerHTML += text[i] === '\n' ? '<br>' : text[i];
          i++;
        } else {
          clearInterval(interval);
        }
      }, 69);
       document.getElementById("readletter").play();
        }
function closeLetterBox() {
  document.getElementById('letterBox').style.display = 'none';
  const audio = document.getElementById('readletter');
  if (audio) {
    audio.pause();
    audio.currentTime = 0;
   }

}
    function toggleSecretPopup() {
  document.getElementById('secretMsgPopup').style.display = 'block';
  document.getElementById('responseMsg').innerText = "";
  document.getElementById('secretMessage').value = "";
}

function closePopup() {

  document.getElementById('secretMsgPopup').style.display = 'none';
}

function sendMessage() {
  const message = document.getElementById('secretMessage').value.trim();
  if (message === "") {
    alert("Please write a message before sending!");
    return;
  }

  fetch('/save-message', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ message })
  })
  .then(res => res.json())
  .then(data => {
    if (data.success) {
      document.getElementById('responseMsg').innerText = "Message sent successfully!";
      document.getElementById('secretMessage').value = "";
    } else {
      document.getElementById('responseMsg').innerText = "Failed to send message.";
    }
  })
  .catch(() => {
    document.getElementById('responseMsg').innerText = "Error sending message.";
  });
}


  </script>
</body>
</html>
